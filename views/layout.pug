doctype html
html
  head
    title= title

    //meta data
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")

    //css
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous")
    link(rel='stylesheet' href='/stylesheets/style.css')
    //link(rel="stylesheet" media="screen and (min-device-width: 800px)" href="800.css")
    //link(rel='stylesheet' media='screen and (min-width: 701px) and (max-width: 900px)' href='css/medium.css')
    //link(rel="stylesheet" media="only screen and (color)" href="/stylesheets/style.css")

    //javascripts
    script(src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous")
    script(src="/javascripts/scripts.js")

  body
    //navbar
    nav(class="navbar navbar-expand-md fixed-top navbar-light bg-none px-4")
      button(id="container" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar" style="border-style:none")
        span(class="navbar-brand pointer")
          img(class="mr-1" src="/images/juu_logo_white.png" width="33" height="44.5" alt="")
          span(id="icon" class="fa fa-angle-down" style="color:white")

      //buttons that are shown in mobile and not collapsed
      ul(class="navbar-nav d-inline d-md-none")
        if isLoggedIn

        else      
          li(class="nav-item d-inline")
            button(type="button" class="btn btn-primary m-1" data-toggle="modal" data-target="#signUpModal") Sign Up
          li(class="nav-item d-inline")
            button(type="button" class="btn btn-outline-primary m-1" data-toggle="modal" data-target="#logInModal") Log In

      //navbar that collapses or hidden in mobile
      div(class="collapse navbar-collapse d-md-flex" id="collapsibleNavbar")
        a(class="navbar-brand d-none d-md-block mr-auto" href="/")
          img(class="mx-1" src="/images/juu_logo_white.png" width="33" height="44.5" alt="")

        //shown in non mobile - will collapse when mobile
        ul(class="navbar-nav")
          li(class="nav-item")
            br(class="d-inline d-md-none") 

          li(class="nav-item")
            button(type="button" class="btn btn-link m-1 btn-mob" data-toggle="modal" data-target="#settingsModal") Settings
          if isLoggedIn
            li(class="nav-item")
              button(type="button" class="btn btn-link m-1 btn-mob" data-toggle="modal" data-target="#helpModal") Help
            li(class="nav-item")
              button(type="button" class="btn btn-link m-1 btn-mob" data-toggle="modal" data-target="#userModal") Signed in as #{user.firstname}
            li(class="nav-item")
              a(role="button" class="btn m-1 btn-mob d-md-none" href="/logout") Log Out
            
        //hidden in mobile view
        ul(class="navbar-nav")
          if isLoggedIn
            li(class="nav-item")
              a(role="button" class="btn btn-outline-primary m-1 d-none d-md-block" href="/logout") Log Out
          else
            li(class="nav-item")
              button(type="button" class="btn btn-primary m-1 d-none d-md-block" data-toggle="modal" data-target="#signUpModal") Sign Up
            li(class="nav-item")
              button(type="button" class="btn btn-outline-primary m-1 d-none d-md-block" data-toggle="modal" data-target="#logInModal") Log In




    //Sign Up Modal
    div(class="modal fade" id="signUpModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
      div(class="modal-dialog h-100 d-flex flex-column justify-content-center my-0" role="document")
        div(class="modal-content")
          div(class="modal-header")
            button(type="button" class="close" data-dismiss="modal" aria-label="Close")
              span(class="pointer" aria-hidden="true") &times
          div(class="modal-body" style="text-align:center")
            a(role="button" class="btn btn-primary btn-lg btn-block" href="/facebook") sign up with facebook
            hr(class="hr-text" data-content="or")
            button(type="button" class="btn btn-outline-primary btn-lg btn-block" data-toggle="modal" data-target="#signUpEmailModal" data-dismiss="modal") sign up with email
            hr(class="hr-text")
            span Already have an account? <br>
            button(type="button" class="btn btn-link" data-toggle="modal" data-target="#logInModal" data-dismiss="modal") log in

    //Email Sign Up modal
    div(class="modal fade" id="signUpEmailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
      div(class="modal-dialog h-100 d-flex flex-column justify-content-center my-0" role="document")
        div(class="modal-content")
          div(class="modal-header")
            button(type="button" class="close" data-dismiss="modal" aria-label="Close")
              span(class="pointer" aria-hidden="true") &times
          div(class="modal-body" style="text-align:center")
            span Sign up with <a href="#">facebook</a>
            hr(class="hr-text" data-content="or")
            form(method='POST' action='/emailsignup')
              div(class="form-group")
                input(type="text" class="form-control" id="firstname" placeholder="First Name" name='firstname' required)
              div(class="form-group")
                input(type="text" class="form-control" id="lastname" placeholder="Last Name" name='lastname' required)
              div(class="form-group")
                input(type="email" class="form-control" id="email" placeholder="Enter Email" name='email' required)
              div(class="form-group")
                input(type="password" class="form-control" id="password" placeholder="Password" name='password' required)            
              button(type="submit" class="btn btn-primary btn-lg btn-block") sign up
            span I have read and agree with the following <br> <a href="#">terms and conditions</a>
            hr(class="hr-text")
            span Already have an account?
            button(type="button" class="btn btn-link align-baseline" data-toggle="modal" data-target="#logInModal" data-dismiss="modal") log in
            

    //Log In modal
    div(class="modal fade" id="logInModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
      div(class="modal-dialog h-100 d-flex flex-column justify-content-center my-0" role="document")
        div(class="modal-content")
          div(class="modal-header")
            button(type="button" class="close" data-dismiss="modal" aria-label="Close")
              span(class="pointer" aria-hidden="true") &times
          div(class="modal-body" style="text-align:center")
            a(role="button" class="btn btn-primary btn-lg btn-block" href="/facebook") log in with facebook
            hr(class="hr-text" data-content="or")
            button(type="button" class="btn btn-outline-primary btn-lg btn-block" data-toggle="modal" data-target="#logInEmailModal" data-dismiss="modal") log in with email
            hr(class="hr-text")
            span Don't have an account? <br>
            button(type="button" class="btn btn-link" data-toggle="modal" data-target="#signUpModal" data-dismiss="modal" ) sign up

    //Email Log In modal
    div(class="modal fade" id="logInEmailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
      div(class="modal-dialog h-100 d-flex flex-column justify-content-center my-0" role="document")
        div(class="modal-content")
          div(class="modal-header")
            button(type="button" class="close" data-dismiss="modal" aria-label="Close")
              span(class="pointer" aria-hidden="true") &times
          div(class="modal-body" style="text-align:center")
            h4 Log In
            br            
            form(method='POST' action='/emaillogin')
              div(class="form-group")
                input(type="email" class="form-control" id="email" placeholder="Enter email" name="email" required)
              div(class="form-group")
                input(type="password" class="form-control" id="password" placeholder="Password" name="password" required)
              button(type="submit" class="btn btn-primary btn-lg btn-block") log in
            button(type="button" class="btn btn-link") forgot your password?
            hr(class="hr-text" data-content="or")
            button(type="button" class="btn btn-outline-primary btn-lg btn-block" data-dismiss="modal" data-toggle="modal" data-target="#logInFacebookModal") log in with facebook
            hr(class="hr-text")
            span Don't have an account?
            button(type="button" class="btn btn-link align-baseline" data-toggle="modal" data-target="#signUpModal" data-dismiss="modal" ) sign up

  if (messages) 
    if (messages.success)
        div.alert.alert-success.alert-dismissable.fade.show= messages.success
          button(type="button" class="close" data-dismiss="alert" aria-label="Close")
            span(class="pointer" aria-hidden="true") &times

    else 
      - for (var x = 0; x < Object.keys(messages).length; x++)
        div.alert.alert-danger.alert-dismissable.fade.show= messages[Object.keys(messages)[x]]    
          button(type="button" class="close" data-dismiss="alert" aria-label="Close")
            span(class="pointer" aria-hidden="true") &times

  //Other Pages Content
  block content

    

